<?xml version="1.0" encoding="UTF-8"?>
<jmeterTestPlan version="1.2" properties="4.0" jmeter="4.0 r1823414">
  <hashTree>
    <TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="测试计划" enabled="true">
      <stringProp name="TestPlan.comments"></stringProp>
      <boolProp name="TestPlan.functional_mode">false</boolProp>
      <boolProp name="TestPlan.serialize_threadgroups">false</boolProp>
      <elementProp name="TestPlan.user_defined_variables" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="用户定义的变量" enabled="true">
        <collectionProp name="Arguments.arguments"/>
      </elementProp>
      <stringProp name="TestPlan.user_define_classpath"></stringProp>
    </TestPlan>
    <hashTree>
      <ConfigTestElement guiclass="FtpConfigGui" testclass="ConfigTestElement" testname="FTP请求缺省值" enabled="true">
        <stringProp name="TestPlan.comments">ftp://192.168.0.175/ICIP/TOPZHI/ICIP/HP/BBC/</stringProp>
        <stringProp name="FTPSampler.server">192.168.0.175</stringProp>
        <stringProp name="FTPSampler.port"></stringProp>
        <stringProp name="FTPSampler.filename"></stringProp>
        <stringProp name="FTPSampler.localfilename"></stringProp>
        <stringProp name="FTPSampler.inputdata"></stringProp>
        <boolProp name="FTPSampler.binarymode">false</boolProp>
        <boolProp name="FTPSampler.saveresponse">false</boolProp>
        <boolProp name="FTPSampler.upload">false</boolProp>
      </ConfigTestElement>
      <hashTree/>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="单一窗口xml回执" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1502420857000</longProp>
        <longProp name="ThreadGroup.end_time">1502420857000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="175数据库查询信息" enabled="true"/>
        <hashTree>
          <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="175" enabled="true">
            <stringProp name="dataSource">oracleIP175</stringProp>
            <stringProp name="poolMax">10</stringProp>
            <stringProp name="timeout">10000</stringProp>
            <stringProp name="trimInterval">60000</stringProp>
            <boolProp name="autocommit">true</boolProp>
            <stringProp name="transactionIsolation">DEFAULT</stringProp>
            <boolProp name="keepAlive">true</boolProp>
            <stringProp name="connectionAge">5000</stringProp>
            <stringProp name="checkQuery">select 1 from dual</stringProp>
            <stringProp name="dbUrl">jdbc:oracle:thin:@192.168.0.175:1521:orcl</stringProp>
            <stringProp name="driver">oracle.jdbc.driver.OracleDriver</stringProp>
            <stringProp name="username">customs</stringProp>
            <stringProp name="password">customs</stringProp>
          </JDBCDataSource>
          <hashTree/>
          <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="查询订单号guid" enabled="true">
            <stringProp name="dataSource">oracleIP175</stringProp>
            <stringProp name="query">select distinct guid  from custebtrade where status=&apos;70&apos;  and predate&gt; sysdate-1 and customscode  in (&apos;0904&apos;) and busimode=&apos;10&apos; and guid is not null</stringProp>
            <stringProp name="queryArguments"></stringProp>
            <stringProp name="queryArgumentsTypes"></stringProp>
            <stringProp name="queryTimeout"></stringProp>
            <stringProp name="queryType">Select Statement</stringProp>
            <stringProp name="resultSetHandler">Store as String</stringProp>
            <stringProp name="resultVariable"></stringProp>
            <stringProp name="variableNames">orderGuidResult</stringProp>
          </JDBCSampler>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-452982087">0 update</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">20</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
        </hashTree>
        <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="批量xml回执" enabled="true"/>
        <hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="订单接收__查询出结果才走xml" enabled="true">
            <stringProp name="IfController.condition">&quot;${orderGuidResult}&quot; !=null || (!&quot;${orderGuidResult}&quot; .contains(&quot;orderGuidResult&quot;))</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="ForEach控制器" enabled="true">
              <stringProp name="ForeachController.inputVal">orderGuidResult</stringProp>
              <stringProp name="ForeachController.returnVal">orderGuid</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
              <stringProp name="ForeachController.endIndex">2000</stringProp>
            </ForeachController>
            <hashTree>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="查询订单号guid__${orderGuid}" enabled="true">
                <stringProp name="dataSource">oracleIP175</stringProp>
                <stringProp name="query">select  orderno from custebtrade where guid=&apos;${orderGuid}&apos;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Select Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">orderNo</stringProp>
                <stringProp name="TestPlan.comments">enordercode,waybillno</stringProp>
              </JDBCSampler>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-452982087">0 update</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">20</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <FTPSampler guiclass="FtpTestSamplerGui" testclass="FTPSampler" testname="单一窗口电子订单接收GJ__${orderNo_1}" enabled="true">
                <stringProp name="TestPlan.comments">ftp://192.168.0.175/customs/BC/DYCK/send
${__substring(${orderFileName_1},0,30,)}
${orderFileName_1}</stringProp>
                <stringProp name="FTPSampler.server"></stringProp>
                <stringProp name="FTPSampler.port"></stringProp>
                <stringProp name="FTPSampler.filename">customs/BBC/SBHZBC/data/rece/DD_${orderNo_1}GJ00${__Random(10001,99999,)}.xml</stringProp>
                <stringProp name="FTPSampler.localfilename"></stringProp>
                <stringProp name="FTPSampler.inputdata">&lt;?xml version=&quot;1.0&quot; encoding=&quot;GBK&quot; standalone=&quot;no&quot;?&gt;
&lt;ResponseMessage&gt;
    &lt;MessageHead&gt;
        &lt;MESSAGE_ID&gt;${orderGuid}&lt;/MESSAGE_ID&gt;
        &lt;MESSAGE_TYPE&gt;350&lt;/MESSAGE_TYPE&gt;
        &lt;MESSAGE_TIME&gt;2017-11-21 14:23:22&lt;/MESSAGE_TIME&gt;
        &lt;MESSAGE_SOURCE&gt;211940&lt;/MESSAGE_SOURCE&gt;
        &lt;MESSAGE_DEST&gt;466504606&lt;/MESSAGE_DEST&gt;
    &lt;/MessageHead&gt;
    &lt;MessageBody&gt;
        &lt;OrderReceivedDocument&gt;
            &lt;OrderReceivedHead&gt;
                &lt;ENT_CODE&gt;2119200002&lt;/ENT_CODE&gt;
                &lt;MSG_CODE&gt;01&lt;/MSG_CODE&gt;
                &lt;MSG_DESC&gt;12345678901234567800000003038613&lt;/MSG_DESC&gt;
                &lt;RECEIPT_TYPE&gt;350&lt;/RECEIPT_TYPE&gt;
                &lt;MSG_TIME&gt;2017-11-21 14:23:20&lt;/MSG_TIME&gt;
                &lt;RECEIPT_NO&gt;879798788585858665&lt;/RECEIPT_NO&gt;
                &lt;MSG_NAME&gt;12345678901234567800000003038613&lt;/MSG_NAME&gt;
            &lt;/OrderReceivedHead&gt;
        &lt;/OrderReceivedDocument&gt;
    &lt;/MessageBody&gt;
&lt;/ResponseMessage&gt;</stringProp>
                <boolProp name="FTPSampler.binarymode">false</boolProp>
                <boolProp name="FTPSampler.saveresponse">false</boolProp>
                <boolProp name="FTPSampler.upload">true</boolProp>
                <stringProp name="ConfigTestElement.username">anonymous</stringProp>
                <stringProp name="ConfigTestElement.password">anonymous</stringProp>
              </FTPSampler>
              <hashTree/>
              <FTPSampler guiclass="FtpTestSamplerGui" testclass="FTPSampler" testname="单一窗口电子订单接收HG__${orderNo_1}" enabled="true">
                <stringProp name="TestPlan.comments">ftp://192.168.0.175/customs/BC/DYCK/send
${__substring(${orderFileName_1},0,30,)}
${orderFileName_1}</stringProp>
                <stringProp name="FTPSampler.server"></stringProp>
                <stringProp name="FTPSampler.port"></stringProp>
                <stringProp name="FTPSampler.filename">customs/BBC/SBHZBC/data/rece/DD_${orderNo_1}HG00${__Random(10001,99999,)}.xml</stringProp>
                <stringProp name="FTPSampler.localfilename"></stringProp>
                <stringProp name="FTPSampler.inputdata">&lt;?xml version=&quot;1.0&quot; encoding=&quot;GBK&quot; standalone=&quot;no&quot;?&gt;
&lt;CEB312Message&gt;
    &lt;OrderReturn&gt;
        &lt;guid&gt;${orderGuid}&lt;/guid&gt;
        &lt;ebpCode&gt;DLKENGDIE&lt;/ebpCode&gt;
        &lt;ebcCode&gt;DLKENGDIE&lt;/ebcCode&gt;
        &lt;orderNo&gt;${orderNo_1}&lt;/orderNo&gt;
        &lt;returnStatus&gt;-33&lt;/returnStatus&gt;
        &lt;returnTime&gt;20170512102646001&lt;/returnTime&gt;
        &lt;returnInfo&gt;orderno:${orderNo_1}&lt;/returnInfo&gt;
    &lt;/OrderReturn&gt;
&lt;/CEB312Message&gt;</stringProp>
                <boolProp name="FTPSampler.binarymode">false</boolProp>
                <boolProp name="FTPSampler.saveresponse">false</boolProp>
                <boolProp name="FTPSampler.upload">true</boolProp>
                <stringProp name="ConfigTestElement.username">anonymous</stringProp>
                <stringProp name="ConfigTestElement.password">anonymous</stringProp>
              </FTPSampler>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="Debug Sampler" enabled="true">
          <boolProp name="displayJMeterProperties">false</boolProp>
          <boolProp name="displayJMeterVariables">true</boolProp>
          <boolProp name="displaySystemProperties">false</boolProp>
        </DebugSampler>
        <hashTree/>
      </hashTree>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="单一窗口xml回执" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1502420857000</longProp>
        <longProp name="ThreadGroup.end_time">1502420857000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="175数据库查询信息" enabled="true"/>
        <hashTree>
          <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="175" enabled="true">
            <stringProp name="dataSource">oracleIP175</stringProp>
            <stringProp name="poolMax">10</stringProp>
            <stringProp name="timeout">10000</stringProp>
            <stringProp name="trimInterval">60000</stringProp>
            <boolProp name="autocommit">true</boolProp>
            <stringProp name="transactionIsolation">DEFAULT</stringProp>
            <boolProp name="keepAlive">true</boolProp>
            <stringProp name="connectionAge">5000</stringProp>
            <stringProp name="checkQuery">select 1 from dual</stringProp>
            <stringProp name="dbUrl">jdbc:oracle:thin:@192.168.0.175:1521:orcl</stringProp>
            <stringProp name="driver">oracle.jdbc.driver.OracleDriver</stringProp>
            <stringProp name="username">customs</stringProp>
            <stringProp name="password">customs</stringProp>
          </JDBCDataSource>
          <hashTree/>
          <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="查询运单号guid" enabled="true">
            <stringProp name="dataSource">oracleIP175</stringProp>
            <stringProp name="query">select guid from custlogistorder where status=&apos;70&apos; and predate&gt; sysdate-14 and customscode  in (&apos;0904&apos;) and busimode=&apos;10&apos; and guid is not null</stringProp>
            <stringProp name="queryArguments"></stringProp>
            <stringProp name="queryArgumentsTypes"></stringProp>
            <stringProp name="queryTimeout"></stringProp>
            <stringProp name="queryType">Select Statement</stringProp>
            <stringProp name="resultSetHandler">Store as String</stringProp>
            <stringProp name="resultVariable"></stringProp>
            <stringProp name="variableNames">logicGuidResult</stringProp>
            <stringProp name="TestPlan.comments">enordercode,waybillno</stringProp>
          </JDBCSampler>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-452982087">0 update</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">20</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
        </hashTree>
        <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="批量xml回执" enabled="true"/>
        <hashTree>
          <IfController guiclass="IfControllerPanel" testclass="IfController" testname="运单接收__查询出结果才走xml" enabled="true">
            <stringProp name="IfController.condition">&quot;${logicGuidResult}&quot; != null || (!&quot;${logicGuidResult}&quot; .contains(&quot;logicGuidResult&quot;) )</stringProp>
            <boolProp name="IfController.evaluateAll">false</boolProp>
          </IfController>
          <hashTree>
            <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="ForEach控制器" enabled="true">
              <stringProp name="ForeachController.inputVal">logicGuidResult</stringProp>
              <stringProp name="ForeachController.returnVal">logicGuid</stringProp>
              <boolProp name="ForeachController.useSeparator">true</boolProp>
              <stringProp name="ForeachController.startIndex">0</stringProp>
              <stringProp name="ForeachController.endIndex">2000</stringProp>
            </ForeachController>
            <hashTree>
              <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="查询运单号guid_${logicGuid}" enabled="true">
                <stringProp name="dataSource">oracleIP175</stringProp>
                <stringProp name="query">select  transportno from custlogistorder where  guid=&apos;${logicGuid}&apos;</stringProp>
                <stringProp name="queryArguments"></stringProp>
                <stringProp name="queryArgumentsTypes"></stringProp>
                <stringProp name="queryTimeout"></stringProp>
                <stringProp name="queryType">Select Statement</stringProp>
                <stringProp name="resultSetHandler">Store as String</stringProp>
                <stringProp name="resultVariable"></stringProp>
                <stringProp name="variableNames">logicNo</stringProp>
                <stringProp name="TestPlan.comments">enordercode,waybillno</stringProp>
              </JDBCSampler>
              <hashTree>
                <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
                  <collectionProp name="Asserion.test_strings">
                    <stringProp name="-452982087">0 update</stringProp>
                  </collectionProp>
                  <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
                  <boolProp name="Assertion.assume_success">false</boolProp>
                  <intProp name="Assertion.test_type">20</intProp>
                  <stringProp name="Assertion.custom_message"></stringProp>
                </ResponseAssertion>
                <hashTree/>
              </hashTree>
              <FTPSampler guiclass="FtpTestSamplerGui" testclass="FTPSampler" testname="单一窗口电子运单接收GJ__${logicNo_1}" enabled="true">
                <stringProp name="TestPlan.comments">ftp://192.168.0.175/customs/BC/DYCK/send</stringProp>
                <stringProp name="FTPSampler.server"></stringProp>
                <stringProp name="FTPSampler.port"></stringProp>
                <stringProp name="FTPSampler.filename">customs/BBC/SBHZBC/data/rece/YD_${logicNo_1}00${__Random(10001,99999,)}.xml</stringProp>
                <stringProp name="FTPSampler.localfilename"></stringProp>
                <stringProp name="FTPSampler.inputdata">&lt;?xml version=&quot;1.0&quot; encoding=&quot;GBK&quot; standalone=&quot;no&quot;?&gt;
&lt;ResponseMessage&gt;
    &lt;MessageHead&gt;
        &lt;MESSAGE_ID&gt;${logicGuid}&lt;/MESSAGE_ID&gt;
        &lt;MESSAGE_TYPE&gt;351&lt;/MESSAGE_TYPE&gt;
        &lt;MESSAGE_TIME&gt;2017-11-20 17:16:14&lt;/MESSAGE_TIME&gt;
        &lt;MESSAGE_SOURCE&gt;211920&lt;/MESSAGE_SOURCE&gt;
        &lt;MESSAGE_DEST&gt;466504606&lt;/MESSAGE_DEST&gt;
    &lt;/MessageHead&gt;
    &lt;MessageBody&gt;
        &lt;BillReceivedDocument&gt;
            &lt;BillReceivedHead&gt;
                &lt;ENT_CODE&gt;351&lt;/ENT_CODE&gt;
                &lt;MSG_CODE&gt;01&lt;/MSG_CODE&gt;
                &lt;MSG_DESC&gt;MSG_D22323&lt;/MSG_DESC&gt;
                &lt;RECEIPT_TYPE&gt;351&lt;/RECEIPT_TYPE&gt;
                &lt;MSG_TIME&gt;2018-01-03 17:16:12&lt;/MSG_TIME&gt;
                &lt;RECEIPT_NO&gt;CUST000000000000000003028680&lt;/RECEIPT_NO&gt;
                &lt;MSG_NAME&gt;MSG_NAME21312&lt;/MSG_NAME&gt;
            &lt;/BillReceivedHead&gt;
        &lt;/BillReceivedDocument&gt;
    &lt;/MessageBody&gt;
&lt;/ResponseMessage&gt;</stringProp>
                <boolProp name="FTPSampler.binarymode">false</boolProp>
                <boolProp name="FTPSampler.saveresponse">false</boolProp>
                <boolProp name="FTPSampler.upload">true</boolProp>
                <stringProp name="ConfigTestElement.username">anonymous</stringProp>
                <stringProp name="ConfigTestElement.password">anonymous</stringProp>
              </FTPSampler>
              <hashTree/>
              <FTPSampler guiclass="FtpTestSamplerGui" testclass="FTPSampler" testname="单一窗口电子运单接收HG__${logicNo_1}" enabled="true">
                <stringProp name="TestPlan.comments">ftp://192.168.0.175/customs/BC/DYCK/send</stringProp>
                <stringProp name="FTPSampler.server"></stringProp>
                <stringProp name="FTPSampler.port"></stringProp>
                <stringProp name="FTPSampler.filename">customs/BBC/SBHZBC/data/rece/YD_${logicNo_1}00${__Random(10001,99999,)}.xml</stringProp>
                <stringProp name="FTPSampler.localfilename"></stringProp>
                <stringProp name="FTPSampler.inputdata">&lt;?xml version=&quot;1.0&quot; encoding=&quot;GBK&quot; standalone=&quot;no&quot;?&gt;
&lt;CEB512Message&gt;
    &lt;LogisticsReturn&gt;
        &lt;guid&gt;${logicGuid}&lt;/guid&gt;
        &lt;logisticsCode&gt;3213213122&lt;/logisticsCode&gt;
        &lt;logisticsNo&gt;${logicNo_1}&lt;/logisticsNo&gt;
        &lt;returnStatus&gt;-4&lt;/returnStatus&gt;
        &lt;returnTime&gt;2018-01-02 18:08:38&lt;/returnTime&gt;
        &lt;returnInfo&gt;success&lt;/returnInfo&gt;
    &lt;/LogisticsReturn&gt;
&lt;/CEB512Message&gt;</stringProp>
                <boolProp name="FTPSampler.binarymode">false</boolProp>
                <boolProp name="FTPSampler.saveresponse">false</boolProp>
                <boolProp name="FTPSampler.upload">true</boolProp>
                <stringProp name="ConfigTestElement.username">anonymous</stringProp>
                <stringProp name="ConfigTestElement.password">anonymous</stringProp>
              </FTPSampler>
              <hashTree/>
            </hashTree>
          </hashTree>
        </hashTree>
        <DebugSampler guiclass="TestBeanGUI" testclass="DebugSampler" testname="Debug Sampler" enabled="true">
          <boolProp name="displayJMeterProperties">false</boolProp>
          <boolProp name="displayJMeterVariables">true</boolProp>
          <boolProp name="displaySystemProperties">false</boolProp>
        </DebugSampler>
        <hashTree/>
      </hashTree>
      <ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="察看结果树" enabled="true">
        <boolProp name="ResultCollector.error_logging">false</boolProp>
        <objProp>
          <name>saveConfig</name>
          <value class="SampleSaveConfiguration">
            <time>true</time>
            <latency>true</latency>
            <timestamp>true</timestamp>
            <success>true</success>
            <label>true</label>
            <code>true</code>
            <message>true</message>
            <threadName>true</threadName>
            <dataType>true</dataType>
            <encoding>false</encoding>
            <assertions>true</assertions>
            <subresults>true</subresults>
            <responseData>false</responseData>
            <samplerData>false</samplerData>
            <xml>false</xml>
            <fieldNames>true</fieldNames>
            <responseHeaders>false</responseHeaders>
            <requestHeaders>false</requestHeaders>
            <responseDataOnError>false</responseDataOnError>
            <saveAssertionResultsFailureMessage>true</saveAssertionResultsFailureMessage>
            <assertionsResultsToSave>0</assertionsResultsToSave>
            <bytes>true</bytes>
            <sentBytes>true</sentBytes>
            <threadCounts>true</threadCounts>
            <idleTime>true</idleTime>
            <connectTime>true</connectTime>
          </value>
        </objProp>
        <stringProp name="filename"></stringProp>
      </ResultCollector>
      <hashTree/>
      <ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="单一窗口xml回执_清单 未完成" enabled="true">
        <stringProp name="ThreadGroup.on_sample_error">continue</stringProp>
        <elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="循环控制器" enabled="true">
          <boolProp name="LoopController.continue_forever">false</boolProp>
          <stringProp name="LoopController.loops">1</stringProp>
        </elementProp>
        <stringProp name="ThreadGroup.num_threads">1</stringProp>
        <stringProp name="ThreadGroup.ramp_time">1</stringProp>
        <longProp name="ThreadGroup.start_time">1519618730000</longProp>
        <longProp name="ThreadGroup.end_time">1519618730000</longProp>
        <boolProp name="ThreadGroup.scheduler">false</boolProp>
        <stringProp name="ThreadGroup.duration"></stringProp>
        <stringProp name="ThreadGroup.delay"></stringProp>
      </ThreadGroup>
      <hashTree>
        <GenericController guiclass="LogicControllerGui" testclass="GenericController" testname="查询订单运单生成的文件名,用作回执" enabled="true"/>
        <hashTree>
          <JDBCDataSource guiclass="TestBeanGUI" testclass="JDBCDataSource" testname="120" enabled="true">
            <stringProp name="dataSource">oracleIP120</stringProp>
            <stringProp name="poolMax">10</stringProp>
            <stringProp name="timeout">10000</stringProp>
            <stringProp name="trimInterval">60000</stringProp>
            <boolProp name="autocommit">true</boolProp>
            <stringProp name="transactionIsolation">DEFAULT</stringProp>
            <boolProp name="keepAlive">true</boolProp>
            <stringProp name="connectionAge">5000</stringProp>
            <stringProp name="checkQuery">select 1 from dual</stringProp>
            <stringProp name="dbUrl">jdbc:oracle:thin:@192.168.0.120:1521:orcl</stringProp>
            <stringProp name="driver">oracle.jdbc.driver.OracleDriver</stringProp>
            <stringProp name="username">mqdata</stringProp>
            <stringProp name="password">mqdata</stringProp>
          </JDBCDataSource>
          <hashTree/>
          <JDBCSampler guiclass="TestBeanGUI" testclass="JDBCSampler" testname="查询YD${orderNo}数据库120" enabled="true">
            <stringProp name="dataSource">oracleIP120</stringProp>
            <stringProp name="query">select filepath from mq_proj_wait where predate&gt;sysdate-7 and projtype=&apos;4400.DL.BBC.0060&apos;</stringProp>
            <stringProp name="queryArguments"></stringProp>
            <stringProp name="queryArgumentsTypes"></stringProp>
            <stringProp name="queryTimeout"></stringProp>
            <stringProp name="queryType">Select Statement</stringProp>
            <stringProp name="resultSetHandler">Store as String</stringProp>
            <stringProp name="resultVariable"></stringProp>
            <stringProp name="variableNames">logicFileName</stringProp>
          </JDBCSampler>
          <hashTree>
            <ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="响应断言" enabled="true">
              <collectionProp name="Asserion.test_strings">
                <stringProp name="-452982087">0 update</stringProp>
              </collectionProp>
              <stringProp name="Assertion.test_field">Assertion.response_data</stringProp>
              <boolProp name="Assertion.assume_success">false</boolProp>
              <intProp name="Assertion.test_type">20</intProp>
              <stringProp name="Assertion.custom_message"></stringProp>
            </ResponseAssertion>
            <hashTree/>
          </hashTree>
        </hashTree>
        <IfController guiclass="IfControllerPanel" testclass="IfController" testname="清单" enabled="true">
          <stringProp name="IfController.condition">!&quot;${eleFileName_1}&quot;.contains(&quot;eleFileName&quot;)</stringProp>
          <boolProp name="IfController.evaluateAll">false</boolProp>
          <stringProp name="TestPlan.comments">eleFileName</stringProp>
        </IfController>
        <hashTree>
          <ForeachController guiclass="ForeachControlPanel" testclass="ForeachController" testname="ForEach控制器" enabled="true">
            <stringProp name="ForeachController.inputVal">eleFileName</stringProp>
            <stringProp name="ForeachController.returnVal">RespondBy</stringProp>
            <boolProp name="ForeachController.useSeparator">true</boolProp>
            <stringProp name="ForeachController.startIndex">0</stringProp>
            <stringProp name="ForeachController.endIndex">2</stringProp>
          </ForeachController>
          <hashTree>
            <FTPSampler guiclass="FtpTestSamplerGui" testclass="FTPSampler" testname="黄埔BC单一窗口电子清单(CIQ)" enabled="true">
              <stringProp name="TestPlan.comments">ftp://192.168.0.175/customs/BC/DYCK/send</stringProp>
              <stringProp name="FTPSampler.server"></stringProp>
              <stringProp name="FTPSampler.port"></stringProp>
              <stringProp name="FTPSampler.filename">customs/BBC/ZZ/out/KJ881110CIQREC_QD001${__Random(10001,99999,)}.xml</stringProp>
              <stringProp name="FTPSampler.localfilename"></stringProp>
              <stringProp name="FTPSampler.inputdata">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;InternationalTrade&gt;
  &lt;Head&gt;
    &lt;MessageID&gt;KJ881110_QD_2018013116290000001&lt;/MessageID&gt;
    &lt;MessageType&gt;KJ881110CIQREC&lt;/MessageType&gt;
    &lt;Sender&gt;KJPUBLIC&lt;/Sender&gt;
    &lt;Receiver&gt;QD&lt;/Receiver&gt;
    &lt;SendTime&gt;2018-01-30 13:18:13&lt;/SendTime&gt;
    &lt;FunctionCode&gt;CIQ&lt;/FunctionCode&gt;
    &lt;SignerInfo&gt;&lt;/SignerInfo&gt;
    &lt;Version&gt;3.0&lt;/Version&gt;
  &lt;/Head&gt;
  &lt;Declaration&gt;	
    &lt;DeclEntNo&gt;012345678987654215&lt;/DeclEntNo&gt;
    &lt;EBEntNo&gt;012345678987654215&lt;/EBEntNo&gt;
    &lt;TradeMode&gt;9610&lt;/TradeMode&gt;
    &lt;IeFlag&gt;I&lt;/IeFlag&gt;
	&lt;EListNo&gt;${eleNo_1}&lt;/EListNo&gt;&lt;!-- dzqd --&gt;
	&lt;EPortEListNo&gt;ciq${eleNo_1}&lt;/EPortEListNo&gt;
	&lt;CIQEListNo&gt;CIQ00012&lt;/CIQEListNo&gt;
    &lt;ResultDate&gt;2018-01-30 13:18:13&lt;/ResultDate&gt;
    &lt;CIQEListStatus&gt;C&lt;/CIQEListStatus&gt;&lt;!-- C N Q --&gt;
    &lt;CIQRecNotes&gt;nnnn&lt;/CIQRecNotes&gt;
  &lt;/Declaration&gt;
&lt;/InternationalTrade&gt;</stringProp>
              <boolProp name="FTPSampler.binarymode">true</boolProp>
              <boolProp name="FTPSampler.saveresponse">false</boolProp>
              <boolProp name="FTPSampler.upload">true</boolProp>
              <stringProp name="ConfigTestElement.username">anonymous</stringProp>
              <stringProp name="ConfigTestElement.password">anonymous</stringProp>
            </FTPSampler>
            <hashTree/>
            <FTPSampler guiclass="FtpTestSamplerGui" testclass="FTPSampler" testname="黄埔BC单一窗口电子清单(CUS)" enabled="true">
              <stringProp name="TestPlan.comments">ftp://192.168.0.175/customs/BC/DYCK/send</stringProp>
              <stringProp name="FTPSampler.server"></stringProp>
              <stringProp name="FTPSampler.port"></stringProp>
              <stringProp name="FTPSampler.filename">customs/BBC/ZZ/out/KJ881110CUSREC_QD001${__Random(10001,99999,)}.xml</stringProp>
              <stringProp name="FTPSampler.localfilename"></stringProp>
              <stringProp name="FTPSampler.inputdata">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;InternationalTrade&gt;
  &lt;Head&gt;
    &lt;MessageID&gt;KJ881110_QD_2018013116290000001&lt;/MessageID&gt;
    &lt;MessageType&gt;KJ881110CIQREC&lt;/MessageType&gt;
    &lt;Sender&gt;KJPUBLIC&lt;/Sender&gt;
    &lt;Receiver&gt;QD&lt;/Receiver&gt;
    &lt;SendTime&gt;2018-01-30 13:18:13&lt;/SendTime&gt;
    &lt;FunctionCode&gt;CUS&lt;/FunctionCode&gt;
    &lt;SignerInfo&gt;&lt;/SignerInfo&gt;
    &lt;Version&gt;3.0&lt;/Version&gt;
  &lt;/Head&gt;
  &lt;Declaration&gt;
    &lt;DeclEntNo&gt;012345678987654215&lt;/DeclEntNo&gt;
    &lt;EBEntNo&gt;012345678987654215&lt;/EBEntNo&gt;
    &lt;TradeMode&gt;9610&lt;/TradeMode&gt;
    &lt;IeFlag&gt;I&lt;/IeFlag&gt;
    &lt;EntOrderNo&gt;${orderNo}&lt;/EntOrderNo&gt;&lt;!-- order --&gt;
    &lt;EntWaybillNo&gt;${orderNo}&lt;/EntWaybillNo&gt;&lt;!-- logic --&gt;
    &lt;EListNo&gt;${eleNo_1}&lt;/EListNo&gt;&lt;!-- dzqd --&gt;
    &lt;EPortEListNo&gt;cus${eleNo_1}&lt;/EPortEListNo&gt;
    &lt;CusEListNo&gt;cust${eleNo_1}&lt;/CusEListNo&gt;
    &lt;CusEListResult&gt;800&lt;/CusEListResult&gt;&lt;!-- 800 500 --&gt;
    &lt;ResultDate&gt;2018-01-30 13:18:13&lt;/ResultDate&gt;
    &lt;CusRejectNotes&gt;${__escapeXml(退单原因)}&lt;/CusRejectNotes&gt;
    &lt;opdatatype/&gt;
  &lt;/Declaration&gt;
&lt;/InternationalTrade&gt;</stringProp>
              <boolProp name="FTPSampler.binarymode">true</boolProp>
              <boolProp name="FTPSampler.saveresponse">false</boolProp>
              <boolProp name="FTPSampler.upload">true</boolProp>
              <stringProp name="ConfigTestElement.username">anonymous</stringProp>
              <stringProp name="ConfigTestElement.password">anonymous</stringProp>
            </FTPSampler>
            <hashTree/>
          </hashTree>
        </hashTree>
      </hashTree>
      <TestFragmentController guiclass="TestFragmentControllerGui" testclass="TestFragmentController" testname="WorkBench Test Fragment" enabled="false"/>
      <hashTree>
        <FTPSampler guiclass="FtpTestSamplerGui" testclass="FTPSampler" testname="测试中文" enabled="true">
          <stringProp name="TestPlan.comments">ftp://192.168.0.175/customs/BC/DYCK/send</stringProp>
          <stringProp name="FTPSampler.server"></stringProp>
          <stringProp name="FTPSampler.port"></stringProp>
          <stringProp name="FTPSampler.filename">customs/BBC/ZZ/out/KJ881110CUSREC_QD001${__Random(10001,99999,)}.xml</stringProp>
          <stringProp name="FTPSampler.localfilename"></stringProp>
          <stringProp name="FTPSampler.inputdata">${body}</stringProp>
          <boolProp name="FTPSampler.binarymode">true</boolProp>
          <boolProp name="FTPSampler.saveresponse">false</boolProp>
          <boolProp name="FTPSampler.upload">true</boolProp>
          <stringProp name="ConfigTestElement.username">anonymous</stringProp>
          <stringProp name="ConfigTestElement.password">anonymous</stringProp>
        </FTPSampler>
        <hashTree>
          <BeanShellPreProcessor guiclass="TestBeanGUI" testclass="BeanShellPreProcessor" testname="BeanShell PreProcessor" enabled="true">
            <boolProp name="resetInterpreter">false</boolProp>
            <stringProp name="parameters"></stringProp>
            <stringProp name="filename"></stringProp>
            <stringProp name="script">import java.io.UnsupportedEncodingException;

 String str = &quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;utf-8\&quot;?&gt;\n&quot; +
                &quot;&lt;InternationalTrade&gt;\n&quot; +
                &quot;  &lt;Head&gt;\n&quot; +
                &quot;    &lt;MessageID&gt;KJ881110_QD_2018013116290000001&lt;/MessageID&gt;\n&quot; +
                &quot;    &lt;MessageType&gt;KJ881110CIQREC&lt;/MessageType&gt;\n&quot; +
                &quot;    &lt;Sender&gt;KJPUBLIC&lt;/Sender&gt;\n&quot; +
                &quot;    &lt;Receiver&gt;QD&lt;/Receiver&gt;\n&quot; +
                &quot;    &lt;SendTime&gt;2018-01-30 13:18:13&lt;/SendTime&gt;\n&quot; +
                &quot;    &lt;FunctionCode&gt;CUS&lt;/FunctionCode&gt;\n&quot; +
                &quot;    &lt;SignerInfo&gt;&lt;/SignerInfo&gt;\n&quot; +
                &quot;    &lt;Version&gt;3.0&lt;/Version&gt;\n&quot; +
                &quot;  &lt;/Head&gt;\n&quot; +
                &quot;  &lt;Declaration&gt;\n&quot; +
                &quot;    &lt;DeclEntNo&gt;012345678987654215&lt;/DeclEntNo&gt;\n&quot; +
                &quot;    &lt;EBEntNo&gt;012345678987654215&lt;/EBEntNo&gt;\n&quot; +
                &quot;    &lt;TradeMode&gt;9610&lt;/TradeMode&gt;\n&quot; +
                &quot;    &lt;IeFlag&gt;I&lt;/IeFlag&gt;\n&quot; +
                &quot;    &lt;EntOrderNo&gt;orderNo&lt;/EntOrderNo&gt;&lt;!-- order --&gt;\n&quot; +
                &quot;    &lt;EntWaybillNo&gt;orderNo&lt;/EntWaybillNo&gt;&lt;!-- logic --&gt;\n&quot; +
                &quot;    &lt;EListNo&gt;eleFileName_1}&lt;/EListNo&gt;&lt;!-- dzqd --&gt;\n&quot; +
                &quot;    &lt;EPortEListNo&gt;eleFileName_1}&lt;/EPortEListNo&gt;\n&quot; +
                &quot;    &lt;CusEListNo&gt;custeleFileName_1}&lt;/CusEListNo&gt;\n&quot; +
                &quot;    &lt;CusEListResult&gt;800&lt;/CusEListResult&gt;&lt;!-- 800 500 --&gt;\n&quot; +
                &quot;    &lt;ResultDate&gt;2018-01-30 13:18:13&lt;/ResultDate&gt;\n&quot; +
                &quot;    &lt;CusRejectNotes&gt;退单原因&lt;/CusRejectNotes&gt;\n&quot; +
                &quot;    &lt;opdatatype/&gt;\n&quot; +
                &quot;  &lt;/Declaration&gt;\n&quot; +
                &quot;&lt;/InternationalTrade&gt;&quot;;

        byte[] bytes=null;
        try {
            bytes = str.getBytes(&quot;UTF-8&quot;);
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        }
        if(bytes!= null ){
		vars.put(&quot;body&quot;,bytes);
        }</stringProp>
          </BeanShellPreProcessor>
          <hashTree/>
        </hashTree>
      </hashTree>
    </hashTree>
  </hashTree>
</jmeterTestPlan>
